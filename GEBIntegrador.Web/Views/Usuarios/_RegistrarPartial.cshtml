@* @model GEBIntegrador.Dto.UsuarioDto *@
@model GEBIntegrador.Dto.UsuarioCrearDto

@{
    ViewData["Title"] = "Create";
    List<SelectListItem> perfiles = (List<SelectListItem>)ViewBag.items;
}

<h1>Crear Usuario</h1>

<h4>Usuario</h4>
<hr />
    <div class="row">
        <div class="col-md-12">
            @* <form asp-action="_RegistrarPartial" id="form"> *@
            <form id="form" data-model="@Json.Serialize(Model)">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                
                @* -- Cedula --*@
                <div class="form-group col-md-12 mb-2">
                    <div class="row">
                    <div class="col-md-12">
                        @* <div class="col-md-4"> *@
                            <label for="v_documento" class="control-label">Cedula</label>
                        @* </div> *@
                            <div class="input-group">
                                <input class="form-control" id="v_documento" name="persona.v_documento" required />
                                <button class="btn btn-outline-success" type="button" id="button_cedula"
                                        data-bs-toggle="tooltip" data-bs-placement="top"
                                        data-bs-custom-class="custom-tooltip"
                                        data-bs-title="Buscar documento">
                                    <i class="bi bi-search"></i>
                                </button>
                                <button class="btn btn-outline-danger" type="button" id="button_limpiar"
                                        data-bs-toggle="tooltip" data-bs-placement="top"
                                        data-bs-custom-class="custom-tooltip"
                                        data-bs-title="Limpiar formulario">
                                    <i class="bi bi-arrow-repeat"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <span for="v_documento" class="text-danger"></span>
                </div>

                @* -- Nombres --*@
                 <div class="form-group">
                    @* <label asp-for="persona.v_nombres" class="control-label">Nombres</label> *@
                    <label class="control-label">Nombres</label>
                <input asp-for="persona.v_nombres" class="form-control" id="v_nombres" disabled/>
                <span asp-validation-for="persona.v_nombres" class="text-danger"></span>
                </div>
                <div class="form-group">
                @* <label asp-for="persona.v_apellidos" class="control-label">Apellidos</label> *@
                <label class="control-label">Apellidos</label>
                <input asp-for="persona.v_apellidos" class="form-control" id="v_apellidos" disabled />
                <span asp-validation-for="persona.v_apellidos" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label asp-for="v_correo" class="control-label"></label>
                    <input asp-for="v_correo" class="form-control" />
                    <span asp-validation-for="v_correo" class="text-danger"></span>
                </div>
                @*            <div class="form-group">
                <label asp-for="Usuario1" class="control-label"></label>
                <input asp-for="Usuario1" class="form-control" />
                <span asp-validation-for="Usuario1" class="text-danger"></span>
                </div>*@
                @*            <div class="form-group">
                <label asp-for="Clave" class="control-label"></label>
                <input asp-for="Clave" class="form-control" />
                <span asp-validation-for="Clave" class="text-danger"></span>
                </div>*@
@*                 <div class="form-group">
                    <label asp-for="IdPerfil" class="control-label"></label>
                <input asp-for="IdPerfil" class="form-control" />
                <span asp-validation-for="IdPerfil" class="text-danger"></span>
            </div>*@
             <div class="form-group">
                <label asp-for="n_id_perfil" class="control-label"></label>
                @Html.DropDownListFor(Model => Model.n_id_perfil ,perfiles, new {@class = "form-control"})
                <span asp-validation-for="n_id_perfil" class="text-danger"></span>
            </div>

                <div class="form-group mt-3">
                    <input type="submit" value="Crear Usuario" class="btn btn-primary" />
                </div>
            </form>
        @if (ViewData["Mensaje"] != null)
        {
            <div clas="form-group">
                <div class="alert alert-danger" role="alert">
                    @ViewData["Mensaje"]
                </div>
            </div>
        }
        
        <div id="error-messages" class="alert alert-danger" style="display:none;"></div>

        </div>
    </div>

@* <div>
    <a asp-action="Index">Volver</a>
</div>*@

<script src="~/lib/jquery-validation/dist/jquery.validate.js" ></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>
<script src="~/js/usuarios/registrar.js" type="module"></script>
